<div class="home-container">
  <div class="hero">
    <h1>Plataforma E-learning</h1>
    <p>Aprenda, ensine e acompanhe seu progresso em um só lugar.</p>
  </div>

  <div class="card">
    <h2>Cadastro de Módulo</h2>
    <p>Curso: <strong>{{ courseName() }}</strong></p>

    @if (isLoading()) {
      <div style="text-align: center; padding: 20px;">
        <mat-spinner diameter="40"></mat-spinner>
      </div>
    } @else {
      <form [formGroup]="form" (ngSubmit)="onSubmit()">

        <div class="form-group">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Título do Módulo</mat-label>
            <input matInput formControlName="title" placeholder="Ex: Introdução ao Framework">
            <mat-error *ngIf="form.get('title')?.hasError('required')">
              Título é obrigatório
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Descrição do Módulo</mat-label>
            <textarea
              matInput
              formControlName="description"
              rows="4"
              placeholder="Descreva o conteúdo deste módulo"></textarea>
            <mat-error *ngIf="form.get('description')?.hasError('required')">
              Descrição é obrigatória
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Ordem</mat-label>
            <input matInput type="number" formControlName="order">
            <mat-hint>Ordem de exibição do módulo no curso</mat-hint>
          </mat-form-field>
        </div>

        <div class="button-group">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="form.invalid || isLoading()">
            Criar Módulo
          </button>

          <button
            mat-raised-button
            type="button"
            (click)="cancel()">
            Cancelar
          </button>
        </div>
      </form>
    }
  </div>

  <footer class="footer">© Plataforma E-learning</footer>
</div>
